// /**
//  * Copyright Â© 2015 Magento. All rights reserved.
//  * See COPYING.txt for license details.
//  */

//
// Popup Mixins
//--------------------------------------
.popup(
    @_popup-width: @popup-width,
    @_popup-height: @popup-height,
    @_popup-padding: @popup-padding,
    @_popup-background: @popup-background,
    @_popup-border: @popup-border,
    @_popup-shadow: @popup-shadow,
    @_popup-fade: @popup-fade,
    @_popup-z-index: @popup-z-index,

    @_popup-position: @popup-position,
    @_popup-position-top: @popup-position-top,
    @_popup-position-right: @popup-position-right,
    @_popup-position-bottom: @popup-position-bottom,
    @_popup-position-left: @popup-position-left,

    @_popup-margin-top: @popup-margin-top,
    @_popup-margin-right: @popup-margin-right,
    @_popup-margin-bottom: @popup-margin-bottom,
    @_popup-margin-left: @popup-margin-left,

    @_popup-content-height: @popup-content-height,
    @_popup-header-margin: @popup-header-margin,
    @_popup-content-margin: @popup-content-margin,
    @_popup-footer-margin: @popup-footer-margin,

    @_popup-title-headings: @popup-title-headings,
    @_popup-title-headings-level: @popup-title-headings-level,

    // Icons parameters
    @_popup-button-close-icon: @popup-button-close-icon,
    @_popup-button-close-reset: @popup-button-close-reset,
    @_popup-button-close-position: @popup-button-close-position,
    @_popup-button-close-position-top: @popup-button-close-position-top,
    @_popup-button-close-position-right: @popup-button-close-position-right,
    @_popup-button-close-position-bottom: @popup-button-close-position-bottom,
    @_popup-button-close-position-left: @popup-button-close-position-left,
    @_popup-icon-font-content: @popup-icon-font-content,
    @_popup-icon-font: @popup-icon-font,
    @_popup-icon-font-size: @popup-icon-font-size,
    @_popup-icon-font-line-height: @popup-icon-font-line-height,
    @_popup-icon-font-color: @popup-icon-font-color,
    @_popup-icon-font-color-hover: @popup-icon-font-color-hover,
    @_popup-icon-font-color-active: @popup-icon-font-color-active,
    @_popup-icon-font-margin: @popup-icon-font-margin,
    @_popup-icon-font-vertical-align: @popup-icon-font-vertical-align,
    @_popup-icon-font-position: @popup-icon-font-position,
    @_popup-icon-font-text-hide: @popup-icon-font-text-hide,

    // Actions toolbar parameters
    @_popup-action-toolbar: @popup-action-toolbar,
    @_popup-actions-toolbar-actions-position: @popup-actions-toolbar-actions-position,
    @_popup-actions-toolbar-actions-reverse: @popup-actions-toolbar-actions-reverse,
    @_popup-actions-toolbar-margin: @popup-actions-toolbar-margin,
    @_popup-actions-toolbar-padding: @popup-actions-toolbar-padding,
    @_popup-actions-toolbar-actions-margin: @popup-actions-toolbar-actions-margin,
    @_popup-actions-toolbar-primary-actions-margin: @popup-actions-toolbar-primary-actions-margin,
    @_popup-actions-toolbar-secondary-actions-margin: @popup-actions-toolbar-secondary-actions-margin,
    @_popup-actions-toolbar-actions-links-margin-top: @popup-actions-toolbar-actions-links-margin-top,
    @_popup-actions-toolbar-primary-actions-links-margin-top: @popup-actions-toolbar-primary-actions-links-margin-top,
    @_popup-actions-toolbar-secondary-actions-links-margin-top: @popup-actions-toolbar-secondary-actions-links-margin-top
) {
    .css(background, @_popup-background);
    .css(border, @_popup-border);
    .css(padding, @_popup-padding);
    .css(width, @_popup-width);
    ._popup-height(@_popup-height);
    ._popup-shadow(@_popup-shadow);
    ._popup-action-toolbar(
        @_popup-action-toolbar,
        @_popup-actions-toolbar-actions-position,
        @_popup-actions-toolbar-actions-reverse,
        @_popup-actions-toolbar-margin,
        @_popup-actions-toolbar-padding,
        @_popup-actions-toolbar-actions-margin,
        @_popup-actions-toolbar-primary-actions-margin,
        @_popup-actions-toolbar-secondary-actions-margin,
        @_popup-actions-toolbar-actions-links-margin-top,
        @_popup-actions-toolbar-primary-actions-links-margin-top,
        @_popup-actions-toolbar-secondary-actions-links-margin-top
    );
    .popup-header {
        .css(margin, @_popup-header-margin);
        .title {
            ._popup-headings(
                @_popup-title-headings,
                @_popup-title-headings-level
            );
        }
        .css(padding-right, @_popup-icon-font-size)
    }
    .popup-content {
        ._popup-height(@_popup-content-height);
        .css(margin, @_popup-content-margin);
    }
    .popup-footer {
        .css(margin, @_popup-footer-margin);
    }
    .popup-actions {
        .action.close {
            .css(position, @_popup-button-close-position);
            ._popup-button-close-icon(
                @_popup-button-close-icon,
                @_popup-icon-font-content,
                @_popup-icon-font,
                @_popup-icon-font-size,
                @_popup-icon-font-line-height,
                @_popup-icon-font-color,
                @_popup-icon-font-color-hover,
                @_popup-icon-font-color-active,
                @_popup-icon-font-margin,
                @_popup-icon-font-vertical-align,
                @_popup-icon-font-position,
                @_popup-icon-font-text-hide
            );
            ._popup-button-close-reset(
                @_popup-button-close-reset
            );
            .css(top, @_popup-button-close-position-top);
            .css(right, @_popup-button-close-position-right);
            .css(bottom, @_popup-button-close-position-bottom);
            .css(left, @_popup-button-close-position-left);
        }
    }
    .css(top, @_popup-position-top);
    .css(right, @_popup-position-right);
    .css(bottom, @_popup-position-bottom);
    .css(left, @_popup-position-left);

    .css(margin-top, @_popup-margin-top);
    .css(margin-right, @_popup-margin-right);
    .css(margin-bottom, @_popup-margin-bottom);
    .css(margin-left, @_popup-margin-left);

    display: none;
    opacity: 0;
    .css(position, @_popup-position);
    .css(z-index, @_popup-z-index);
    ._popup-fade(@_popup-fade);
    &.active {
        opacity: 1;
    }
}

.window-overlay(
    @_overlay-background: @overlay-background,
    @_overlay-opacity: @overlay-opacity,
    @_overlay-opacity-old: @overlay-opacity-old,
    @_overlay-fade: @overlay-fade,
    @_overlay-z-index: @overlay-z-index
) {
    ._popup-fade(@_overlay-fade);
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    .css(background, @_overlay-background);
    .css(z-index, @_overlay-z-index);
    opacity: 0;
    &.active {
        opacity: @_overlay-opacity;
        filter: alpha(opacity=@_overlay-opacity-old);
    }
}

//
// Internal use mixins
//--------------------------------------

// Popup fade
._popup-fade(@_popup-fade) when not (@_popup-fade = '') {
    .css(transition, @_popup-fade);
}

// Popup shadow
._popup-shadow(@_popup-shadow) when not (@_popup-shadow = '') and not (@_popup-shadow = none)  {
    .css(box-shadow, @_popup-shadow);
}

// Popup height
._popup-height(@_popup-height) when not (@_popup-height = auto) {
    overflow-y: auto;
    .css(max-height, @_popup-height);
}


// Popup Headings
._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h1) {
    .heading(h1);
}

._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h2) {
    .heading(h2);
}

._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h3) {
    .heading(h3);
}

._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h4) {
    .heading(h4);
}

._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h5) {
    .heading(h5);
}

._popup-headings(
    @_popup-title-headings,
    @_popup-title-headings-level
) when (@_popup-title-headings = true) and (@_popup-title-headings-level = h6) {
    .heading(h6);
}

// Popup action-toolbar
._popup-action-toolbar(
    @_popup-action-toolbar,
    @_popup-actions-toolbar-actions-position,
    @_popup-actions-toolbar-actions-reverse,
    @_popup-actions-toolbar-margin,
    @_popup-actions-toolbar-padding,
    @_popup-actions-toolbar-actions-margin,
    @_popup-actions-toolbar-primary-actions-margin,
    @_popup-actions-toolbar-secondary-actions-margin,
    @_popup-actions-toolbar-actions-links-margin-top
    @_popup-actions-toolbar-primary-actions-links-margin-top,
    @_popup-actions-toolbar-secondary-actions-links-margin-top
) when (@_popup-action-toolbar = true) {
    .popup-footer {
        .actions.toolbar {
            .actions-toolbar(
                @_actions-toolbar-actions-position: @_popup-actions-toolbar-actions-position,
                @_actions-toolbar-actions-reverse: @_popup-actions-toolbar-actions-reverse,
                @_actions-toolbar-margin: @_popup-actions-toolbar-margin,
                @_actions-toolbar-padding: @_popup-actions-toolbar-padding,
                @_actions-toolbar-actions-margin: @_popup-actions-toolbar-actions-margin,
                @_actions-toolbar-primary-actions-margin: @_popup-actions-toolbar-primary-actions-margin,
                @_actions-toolbar-secondary-actions-margin: @_popup-actions-toolbar-secondary-actions-margin,
                @_actions-toolbar-actions-links-margin-top: @_popup-actions-toolbar-actions-links-margin-top,
                @_actions-toolbar-primary-actions-links-margin-top: @_popup-actions-toolbar-primary-actions-links-margin-top,
                @_actions-toolbar-secondary-actions-links-margin-top: @_popup-actions-toolbar-secondary-actions-links-margin-top
            );
        }
    }
}

// Popup close button use icon
._popup-button-close-icon(
    @_popup-button-close-icon,
    @_popup-icon-font-content,
    @_popup-icon-font,
    @_popup-icon-font-size,
    @_popup-icon-font-line-height,
    @_popup-icon-font-color,
    @_popup-icon-font-color-hover,
    @_popup-icon-font-color-active,
    @_popup-icon-font-margin,
    @_popup-icon-font-vertical-align,
    @_popup-icon-font-position,
    @_popup-icon-font-text-hide
) when (@_popup-button-close-icon = true) {
    .button-icon(
        @_icon-font-content: @_popup-icon-font-content,
        @_icon-font: @_popup-icon-font,
        @_icon-font-size: @_popup-icon-font-size,
        @_icon-font-line-height: @_popup-icon-font-line-height,
        @_icon-font-color: @_popup-icon-font-color,
        @_icon-font-color-hover: @_popup-icon-font-color-hover,
        @_icon-font-color-active: @_popup-icon-font-color-active,
        @_icon-font-margin: @_popup-icon-font-margin,
        @_icon-font-vertical-align: @_popup-icon-font-vertical-align,
        @_icon-font-position: @_popup-icon-font-position,
        @_icon-font-text-hide: @_popup-icon-font-text-hide
    );
}

// Popup close button reset
._popup-button-close-reset (
    @_popup-button-close-reset
) when (@_popup-button-close-reset = true) {
    .button-reset();
}
