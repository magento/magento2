<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */

// @codingStandardsIgnoreFile

?>
<?php /** @var $block \Magento\AdminNotification\Block\System\Messages\UnreadMessagePopup */ ?>

<div id="system_messages_list" title="<?php echo $block->escapeHtml($block->getPopupTitle()); ?>">
    <ul class="message-system-list">
        <?php foreach ($block->getUnreadMessages() as $message): ?>
            <li class="message message-warning <?php /* @escapeNotVerified */ echo $block->getItemClass($message);?>">
                <?php /* @escapeNotVerified */ echo $message->getText();?>
            </li>
        <?php endforeach;?>
    </ul>
</div>

<script>
require([
    "jquery",
    "jquery/ui",
    "Magento_Ui/js/modal/modal"
], function($){
    if (this.modal) {
        this.modal.html($("#system_messages_list").html());
    } else {
        this.modal = $("#system_messages_list").modal({
            modalClass: 'ui-popup-message',
            type: 'popup',
            buttons: []
        });
    }
    this.modal.modal('openModal');
});
</script>
