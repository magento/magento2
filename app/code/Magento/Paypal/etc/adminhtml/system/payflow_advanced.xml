<?xml version="1.0"?>
<!--
/**
 * Copyright © Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<include xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_include.xsd">
    <group id="payflow_advanced" translate="label comment" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="30">
        <label>Payments Advanced</label>
        <fieldset_css>paypal-other-section</fieldset_css>
        <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Payment</frontend_model>
        <comment><![CDATA[Accept payments with a PCI-compliant checkout that keeps customers on your site. (<u>Includes Express Checkout</u>)]]></comment>
        <attribute type="activity_path">payment/payflow_advanced/active</attribute>
        <group id="configuration_details" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="4">
            <comment>https://docs.magento.com/m2/ce/user_guide/payment/paypal-payments-advanced.html</comment>
            <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Hint</frontend_model>
        </group>
        <group id="required_settings" translate="label" showInDefault="1" showInWebsite="1" sortOrder="10">
            <label>Required PayPal Settings</label>
            <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Expanded</frontend_model>
            <group id="payments_advanced" translate="label" showInDefault="1" showInWebsite="1" sortOrder="10">
                <label>Payments Advanced and Express Checkout</label>
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Expanded</frontend_model>
                <field id="business_account" extends="payment_all_paypal/express_checkout/express_checkout_required/express_checkout_required_express_checkout/business_account">
                    <label>Email Associated with PayPal Merchant Account (Optional)</label>
                </field>
                <field id="partner" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1">
                    <label>Partner</label>
                    <config_path>payment/payflow_advanced/partner</config_path>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="vendor" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1">
                    <label>Vendor</label>
                    <config_path>payment/payflow_advanced/vendor</config_path>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="user" translate="label comment tooltip" type="obscure" sortOrder="40" showInDefault="1" showInWebsite="1">
                    <label>User</label>
                    <comment>PayPal recommends that you set up an additional User on your account at manager.paypal.com</comment>
                    <tooltip>PayPal recommends you set up an additional User on your account at manager.paypal.com, instead of entering your admin username and password here. This will enhance your security and prevent service interruptions if you later change your password. If you do not want to set up an additional User, you can re-enter your Merchant Login here.</tooltip>
                    <config_path>payment/payflow_advanced/user</config_path>
                    <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="pwd" translate="label" type="obscure" sortOrder="50" showInDefault="1" showInWebsite="1">
                    <label>Password</label>
                    <config_path>payment/payflow_advanced/pwd</config_path>
                    <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="sandbox_flag" translate="label" type="select" sortOrder="60" showInDefault="1" showInWebsite="1">
                    <label>Test Mode</label>
                    <config_path>payment/payflow_advanced/sandbox_flag</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="use_proxy" translate="label" type="select" sortOrder="70" showInDefault="1" showInWebsite="1">
                    <label>Use Proxy</label>
                    <config_path>payment/payflow_advanced/use_proxy</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="proxy_host" translate="label" type="text" sortOrder="80" showInDefault="1" showInWebsite="1">
                    <label>Proxy Host</label>
                    <config_path>payment/payflow_advanced/proxy_host</config_path>
                    <depends>
                        <field id="use_proxy">1</field>
                    </depends>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="proxy_port" translate="label" type="text" sortOrder="90" showInDefault="1" showInWebsite="1">
                    <label>Proxy Port</label>
                    <config_path>payment/payflow_advanced/proxy_port</config_path>
                    <depends>
                        <field id="use_proxy">1</field>
                    </depends>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="payflow_advanced_info" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="100">
                    <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Payflowlink\Advanced</frontend_model>
                    <attribute type="shared">1</attribute>
                </field>
            </group>
            <field id="enable_payflow_advanced" translate="label comment" type="select" sortOrder="41" showInDefault="1" showInWebsite="1">
                <label>Enable this Solution</label>
                <config_path>payment/payflow_advanced/active</config_path>
                <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Field\Enable\Payment</frontend_model>
                <requires>
                    <group id="payments_advanced"/>
                </requires>
            </field>
            <field id="enable_express_checkout" extends="payment_all_paypal/payflow_link/payflow_link_required/enable_express_checkout_basic" showInDefault="1" showInWebsite="1">
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Field\Hidden</frontend_model>
                <requires>
                    <field id="enable_payflow_advanced"/>
                </requires>
            </field>
            <field id="enable_express_checkout_bml" sortOrder="42" extends="payment_all_paypal/express_checkout/express_checkout_required/enable_express_checkout_bml" showInDefault="1" showInWebsite="1">
                <comment><![CDATA[PayPal Express Checkout Payflow Edition lets you give customers access to financing through PayPal Credit&#174; - at no additional cost to you.
                            You get paid up front, even though customers have more time to pay. A pre-integrated payment button lets customers pay quickly with PayPal Credit&#174;.
                            <a href="https://www.paypal.com/webapps/mpp/promotional-financing" target="_blank">Learn More</a>]]>
                </comment>
                <config_path>payment/payflow_express_bml/active</config_path>
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Field\Enable\Bml</frontend_model>
                <requires>
                    <field id="enable_payflow_advanced"/>
                </requires>
            </field>
            <field id="express_checkout_bml_sort_order" sortOrder="50" extends="payment_all_paypal/express_checkout/express_checkout_required/express_checkout_bml_sort_order" showInDefault="1" showInWebsite="1">
                <config_path>payment/payflow_express_bml/sort_order</config_path>
                <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Field\Depends\BmlSortOrder</frontend_model>
                <depends>
                    <field id="enable_express_checkout_bml">1</field>
                </depends>
            </field>
            <group id="advanced_advertise_bml" showInDefault="1" showInWebsite="1" sortOrder="60" translate="label comment">
                <label>Advertise PayPal Credit</label>
                <comment>
                    <![CDATA[<a href="https://financing.paypal.com/ppfinportal/content/whyUseFinancing" target="_blank">Why Advertise Financing?</a><br/>
                                            <strong>Give your sales a boost when you advertise financing.</strong><br/>PayPal helps turn browsers into buyers with financing
                                            from PayPal Credit&#174;. Your customers have more time to pay, while you get paid up front – at no additional cost to you.
                                            Use PayPal’s free banner ads that let you advertise PayPal Credit&#174; financing as a payment option when your customers check out with PayPal.
                                            The PayPal Advertising Program has been shown to generate additional purchases as well as increase consumer's average purchase sizes by 15%
                                            or more. <a href="https://financing.paypal.com/ppfinportal/content/forrester" target="_blank">See Details</a>.]]>
                </comment>
                <field id="bml_publisher_id" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/bml_publisher_id" />
                <field id="bml_wizard" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/bml_wizard" />
                <group id="advanced_settings_bml_homepage" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="20" translate="label">
                    <label>Home Page</label>
                    <field id="bml_homepage_display" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_homepage/bml_homepage_display"/>
                    <field id="advanced_bml_homepage_position" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_homepage/bml_homepage_position"/>
                    <field id="advanced_bml_homepage_size1" translate="label" type="select" sortOrder="30" showInDefault="1" showInWebsite="1">
                        <label>Size</label>
                        <config_path>payment/paypal_express_bml/homepage_size</config_path>
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeHPH</source_model>
                        <depends>
                            <field id="advanced_bml_homepage_position">0</field>
                        </depends>
                    </field>
                    <field id="advanced_bml_homepage_size2" extends="payment_us/paypal_group_all_in_one/payflow_advanced/required_settings/advanced_advertise_bml/advanced_settings_bml_homepage/advanced_bml_homepage_size1">
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeHPS</source_model>
                        <depends>
                            <field id="advanced_bml_homepage_position">1</field>
                        </depends>
                    </field>
                </group>
                <group id="advanced_settings_bml_categorypage" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="30" translate="label">
                    <label>Catalog Category Page</label>
                    <field id="bml_categorypage_display" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_categorypage/bml_categorypage_display"/>
                    <field id="advanced_bml_categorypage_position" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_categorypage/bml_categorypage_position"/>
                    <field id="advanced_bml_categorypage_size1" type="select" showInDefault="1" showInWebsite="1" sortOrder="30" translate="label">
                        <label>Size</label>
                        <config_path>payment/paypal_express_bml/categorypage_size</config_path>
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCCPC</source_model>
                        <attribute type="shared">1</attribute>
                        <depends>
                            <field id="advanced_bml_categorypage_position">0</field>
                        </depends>
                    </field>
                    <field id="advanced_bml_categorypage_size2" extends="payment_us/paypal_group_all_in_one/payflow_advanced/required_settings/advanced_advertise_bml/advanced_settings_bml_categorypage/advanced_bml_categorypage_size1">
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCCPS</source_model>
                        <depends>
                            <field id="advanced_bml_categorypage_position">1</field>
                        </depends>
                    </field>
                </group>
                <group id="advanced_settings_bml_productpage" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="40" translate="label">
                    <label>Catalog Product Page</label>
                    <field id="bml_productpage_display" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_productpage/bml_productpage_display" />
                    <field id="advanced_bml_productpage_position" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_productpage/bml_productpage_position" />
                    <field id="advanced_bml_productpage_size1" type="select" sortOrder="30" showInDefault="1" showInWebsite="1" translate="label">
                        <label>Size</label>
                        <config_path>payment/paypal_express_bml/productpage_size</config_path>
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCPPC</source_model>
                        <attribute type="shared">1</attribute>
                        <depends>
                            <field id="advanced_bml_productpage_position">0</field>
                        </depends>
                    </field>
                    <field id="advanced_bml_productpage_size2" extends="payment_us/paypal_group_all_in_one/payflow_advanced/required_settings/advanced_advertise_bml/advanced_settings_bml_productpage/advanced_bml_productpage_size1">
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCPPN</source_model>
                        <depends>
                            <field id="advanced_bml_productpage_position">1</field>
                        </depends>
                    </field>

                </group>
                <group id="advanced_settings_bml_checkout" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="50" translate="label">
                    <label>Checkout Cart Page</label>
                    <field id="bml_checkout_display" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_checkout/bml_checkout_display"/>
                    <field id="advanced_bml_checkout_position" translate="label" extends="payment_all_paypal/express_checkout/express_checkout_required/advertise_bml/settings_bml_checkout/bml_checkout_position"/>
                    <field id="advanced_bml_checkout_size1" type="select" showInDefault="1" showInWebsite="1" sortOrder="30" translate="label">
                        <label>Size</label>
                        <config_path>payment/paypal_express_bml/checkout_size</config_path>
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCheckoutC</source_model>
                        <attribute type="shared">1</attribute>
                        <depends>
                            <field id="advanced_bml_checkout_position">0</field>
                        </depends>
                    </field>
                    <field id="advanced_bml_checkout_size2" extends="payment_us/paypal_group_all_in_one/payflow_advanced/required_settings/advanced_advertise_bml/advanced_settings_bml_checkout/advanced_bml_checkout_size1">
                        <source_model>Magento\Paypal\Model\System\Config\Source\BmlSize::getBmlSizeCheckoutN</source_model>
                        <attribute type="shared">1</attribute>
                        <depends>
                            <field id="advanced_bml_checkout_position">1</field>
                        </depends>
                    </field>
                </group>
            </group>
        </group>
        <group id="settings_payments_advanced" translate="label" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="20">
            <label>Basic Settings - PayPal Payments Advanced</label>
            <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Expanded</frontend_model>
            <field id="title" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Title</label>
                <comment>It is recommended to set this value to "Debit or Credit Card" per store views.</comment>
                <config_path>payment/payflow_advanced/title</config_path>
                <attribute type="shared">1</attribute>
            </field>
            <field id="sort_order" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Sort Order</label>
                <config_path>payment/payflow_advanced/sort_order</config_path>
                <frontend_class>validate-number</frontend_class>
                <attribute type="shared">1</attribute>
            </field>
            <field id="payment_action" translate="label" type="select" sortOrder="30" showInDefault="1" showInWebsite="1">
                <label>Payment Action</label>
                <config_path>payment/payflow_advanced/payment_action</config_path>
                <source_model>Magento\Paypal\Model\System\Config\Source\PaymentActions</source_model>
                <attribute type="shared">1</attribute>
            </field>
            <group id="settings_payments_advanced_advanced" translate="label" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="40">
                <label>Advanced Settings</label>
                <fieldset_css>config-advanced</fieldset_css>
                <field id="allowspecific" translate="label" type="select" sortOrder="20" showInDefault="1" showInWebsite="1">
                    <label>Payment Applicable From</label>
                    <config_path>payment/payflow_advanced/allowspecific</config_path>
                    <source_model>Magento\Payment\Model\Config\Source\Allspecificcountries</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="specificcountry" translate="label" type="multiselect" sortOrder="25" showInDefault="1" showInWebsite="1">
                    <label>Countries Payment Applicable From</label>
                    <config_path>payment/payflow_advanced/specificcountry</config_path>
                    <source_model>Magento\Paypal\Model\System\Config\Source\BuyerCountry</source_model>
                    <depends>
                        <field id="allowspecific">1</field>
                    </depends>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="debug" translate="label" type="select" sortOrder="30" showInDefault="1" showInWebsite="1">
                    <label>Debug Mode</label>
                    <config_path>payment/payflow_advanced/debug</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="verify_peer" translate="label" type="select" sortOrder="35" showInDefault="1" showInWebsite="1">
                    <label>Enable SSL verification</label>
                    <config_path>payment/payflow_advanced/verify_peer</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="csc_editable" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1">
                    <label>CVV Entry is Editable</label>
                    <config_path>payment/payflow_advanced/csc_editable</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="csc_required" translate="label" type="select" sortOrder="50" showInDefault="1" showInWebsite="1">
                    <label>Require CVV Entry</label>
                    <config_path>payment/payflow_advanced/csc_required</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <depends>
                        <field id="csc_editable">1</field>
                    </depends>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="email_confirmation" translate="label" type="select" sortOrder="60" showInDefault="1" showInWebsite="1">
                    <label>Send Email Confirmation</label>
                    <config_path>payment/payflow_advanced/email_confirmation</config_path>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <field id="url_method" translate="label" type="select" sortOrder="70" showInDefault="1" showInWebsite="1">
                    <label>URL method for Cancel URL and Return URL</label>
                    <config_path>payment/payflow_advanced/url_method</config_path>
                    <source_model>Magento\Paypal\Model\System\Config\Source\UrlMethod</source_model>
                    <attribute type="shared">1</attribute>
                </field>
                <group id="settlement_report" translate="label" showInDefault="1" showInWebsite="1" sortOrder="80">
                    <label>Settlement Report Settings</label>
                    <field id="heading_sftp" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/heading_sftp"/>
                    <field id="settlement_reports_ftp_login" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_ftp_login"/>
                    <field id="settlement_reports_ftp_password" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_ftp_password"/>
                    <field id="settlement_reports_ftp_sandbox" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_ftp_sandbox"/>
                    <field id="settlement_reports_ftp_ip" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_ftp_ip"/>
                    <field id="settlement_reports_ftp_path" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_ftp_path"/>
                    <field id="heading_schedule" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/heading_schedule"/>
                    <field id="settlement_reports_active" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_active"/>
                    <field id="settlement_reports_schedule" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_schedule"/>
                    <field id="settlement_reports_time" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_settlement_report/settlement_reports_time"/>
                </group>
                <group id="frontend" translate="label" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="90">
                    <label>Frontend Experience Settings</label>
                    <field id="logo" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/logo"/>
                    <field id="paypal_pages" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/paypal_pages"/>
                    <field id="page_style" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/page_style"/>
                    <field id="paypal_hdrimg" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/paypal_hdrimg"/>
                    <field id="paypal_hdrbackcolor" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/paypal_hdrbackcolor"/>
                    <field id="paypal_hdrbordercolor" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/paypal_hdrbordercolor"/>
                    <field id="paypal_payflowcolor" extends="payment_all_paypal/express_checkout/settings_ec/settings_ec_advanced/express_checkout_frontend/paypal_payflowcolor"/>
                </group>
            </group>
        </group>
        <group id="settings_express_checkout" translate="label" showInDefault="1" showInWebsite="1" showInStore="1" sortOrder="30">
            <label>Basic Settings - PayPal Express Checkout</label>
            <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Expanded</frontend_model>
            <field id="title" extends="payment_us/paypal_payment_gateways/paypal_payflowpro_with_express_checkout/paypal_payflow_express_checkout/title" />
            <field id="sort_order" extends="payment_us/paypal_payment_gateways/paypal_payflowpro_with_express_checkout/paypal_payflow_express_checkout/sort_order" />
            <field id="payment_action" extends="payment_us/paypal_payment_gateways/paypal_payflowpro_with_express_checkout/paypal_payflow_express_checkout/payment_action" />
            <field id="visible_on_product" extends="payment_us/paypal_payment_gateways/paypal_payflowpro_with_express_checkout/paypal_payflow_express_checkout/visible_on_product" />
            <group id="settings_express_checkout_advanced" extends="payment_us/paypal_payment_gateways/paypal_payflowpro_with_express_checkout/paypal_payflow_express_checkout/paypal_payflow_express_checkout_advanced"/>
        </group>
    </group>
</include>
