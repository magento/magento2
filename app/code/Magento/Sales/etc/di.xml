<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../lib/internal/Magento/Framework/ObjectManager/etc/config.xsd">
    <preference for="Magento\Sales\Api\Data\CreditmemoCommentInterface" type="Magento\Sales\Model\Order\Creditmemo\Comment"/>
    <preference for="Magento\Sales\Api\Data\CreditmemoCommentSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo\Comment\Collection"/>
    <preference for="Magento\Sales\Api\Data\CreditmemoInterface" type="Magento\Sales\Model\Order\Creditmemo"/>
    <preference for="Magento\Sales\Api\Data\CreditmemoItemInterface" type="Magento\Sales\Model\Order\Creditmemo\Item"/>
    <preference for="Magento\Sales\Api\Data\CreditmemoItemSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo\Item\Collection"/>
    <preference for="Magento\Sales\Api\Data\CreditmemoSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo\Collection"/>
    <preference for="Magento\Sales\Api\Data\InvoiceCommentInterface" type="Magento\Sales\Model\Order\Invoice\Comment"/>
    <preference for="Magento\Sales\Api\Data\InvoiceCommentSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Invoice\Comment\Collection"/>
    <preference for="Magento\Sales\Api\Data\InvoiceInterface" type="Magento\Sales\Model\Order\Invoice"/>
    <preference for="Magento\Sales\Api\Data\InvoiceItemInterface" type="Magento\Sales\Model\Order\Invoice\Item"/>
    <preference for="Magento\Sales\Api\Data\InvoiceItemSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Invoice\Item\Collection"/>
    <preference for="Magento\Sales\Api\Data\InvoiceSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Invoice\Collection"/>
    <preference for="Magento\Sales\Api\Data\OrderAddressInterface" type="Magento\Sales\Model\Order\Address"/>
    <preference for="Magento\Sales\Api\Data\OrderAddressSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Address\Collection"/>
    <preference for="Magento\Sales\Api\Data\OrderInterface" type="Magento\Sales\Model\Order"/>
    <preference for="Magento\Sales\Api\Data\OrderItemInterface" type="Magento\Sales\Model\Order\Item"/>
    <preference for="Magento\Sales\Api\Data\OrderItemSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Item\Collection"/>
    <preference for="Magento\Sales\Api\Data\OrderPaymentInterface" type="Magento\Sales\Model\Order\Payment"/>
    <preference for="Magento\Sales\Api\Data\OrderPaymentSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Payment\Collection"/>
    <preference for="Magento\Sales\Api\Data\OrderSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Collection"/>
    <preference for="Magento\Sales\Api\Data\OrderStatusHistoryInterface" type="Magento\Sales\Model\Order\Status\History"/>
    <preference for="Magento\Sales\Api\Data\OrderStatusHistorySearchResultInterface" type="Magento\Sales\Model\Resource\Order\Status\History\Collection"/>
    <preference for="Magento\Sales\Api\Data\ShipmentCommentInterface" type="Magento\Sales\Model\Order\Shipment\Comment"/>
    <preference for="Magento\Sales\Api\Data\ShipmentCommentSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Comment\Collection"/>
    <preference for="Magento\Sales\Api\Data\ShipmentInterface" type="Magento\Sales\Model\Order\Shipment"/>
    <preference for="Magento\Sales\Api\Data\ShipmentItemInterface" type="Magento\Sales\Model\Order\Shipment\Item"/>
    <preference for="Magento\Sales\Api\Data\ShipmentItemSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Item\Collection"/>
    <preference for="Magento\Sales\Api\Data\ShipmentSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Collection"/>
    <preference for="Magento\Sales\Api\Data\ShipmentTrackInterface" type="Magento\Sales\Model\Order\Shipment\Track"/>
    <preference for="Magento\Sales\Api\Data\ShipmentTrackSearchResultInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Track\Collection"/>
    <preference for="Magento\Sales\Api\Data\TransactionInterface" type="Magento\Sales\Model\Order\Payment\Transaction"/>
    <preference for="Magento\Sales\Api\Data\TransactionSearchResultInterface" type="Magento\Sales\Model\Resource\Transaction\Grid\Collection"/>
    <preference for="Magento\Sales\Api\CreditmemoCommentRepositoryInterface" type="Magento\Sales\Api\Data\CreditmemoComment\Repository"/>
    <preference for="Magento\Sales\Api\CreditmemoItemRepositoryInterface" type="Magento\Sales\Api\Data\CreditmemoItem\Repository"/>
    <preference for="Magento\Sales\Api\CreditmemoRepositoryInterface" type="Magento\Sales\Api\Data\Creditmemo\Repository"/>
    <preference for="Magento\Sales\Api\CreditmemoManagementInterface" type="Magento\Sales\Model\Service\CreditmemoService"/>
    <preference for="Magento\Sales\Api\InvoiceCommentRepositoryInterface" type="Magento\Sales\Api\Data\InvoiceComment\Repository"/>
    <preference for="Magento\Sales\Api\InvoiceItemRepositoryInterface" type="Magento\Sales\Api\Data\InvoiceItem\Repository"/>
    <preference for="Magento\Sales\Api\InvoiceRepositoryInterface" type="Magento\Sales\Api\Data\Invoice\Repository"/>
    <preference for="Magento\Sales\Api\InvoiceManagementInterface" type="Magento\Sales\Model\Service\InvoiceService"/>
    <preference for="Magento\Sales\Api\OrderAddressRepositoryInterface" type="Magento\Sales\Api\Data\OrderAddress\Repository"/>
    <preference for="Magento\Sales\Api\OrderItemRepositoryInterface" type="Magento\Sales\Api\Data\OrderItem\Repository"/>
    <preference for="Magento\Sales\Api\OrderPaymentRepositoryInterface" type="Magento\Sales\Api\Data\OrderPayment\Repository"/>
    <preference for="Magento\Sales\Api\OrderRepositoryInterface" type="Magento\Sales\Api\Data\Order\Repository"/>
    <preference for="Magento\Sales\Api\OrderManagementInterface" type="Magento\Sales\Model\Service\OrderService"/>
    <preference for="Magento\Sales\Api\OrderStatusHistoryRepositoryInterface" type="Magento\Sales\Api\Data\OrderStatusHistory\Repository"/>
    <preference for="Magento\Sales\Api\ShipmentCommentRepositoryInterface" type="Magento\Sales\Api\Data\ShipmentComment\Repository"/>
    <preference for="Magento\Sales\Api\ShipmentItemRepositoryInterface" type="Magento\Sales\Api\Data\ShipmentItem\Repository"/>
    <preference for="Magento\Sales\Api\ShipmentRepositoryInterface" type="Magento\Sales\Api\Data\Shipment\Repository"/>
    <preference for="Magento\Sales\Api\ShipmentManagementInterface" type="Magento\Sales\Model\Service\ShipmentService"/>
    <preference for="Magento\Sales\Api\ShipmentTrackRepositoryInterface" type="Magento\Sales\Api\Data\ShipmentTrack\Repository"/>
    <preference for="Magento\Sales\Api\TransactionRepositoryInterface" type="Magento\Sales\Api\Data\Transaction\Repository"/>
    <preference for="Magento\Sales\Model\Spi\CreditmemoCommentResourceInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo\Comment"/>
    <preference for="Magento\Sales\Model\Spi\CreditmemoItemResourceInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo\Item"/>
    <preference for="Magento\Sales\Model\Spi\CreditmemoResourceInterface" type="Magento\Sales\Model\Resource\Order\Creditmemo"/>
    <preference for="Magento\Sales\Model\Spi\InvoiceCommentResourceInterface" type="Magento\Sales\Model\Resource\Order\Invoice\Comment"/>
    <preference for="Magento\Sales\Model\Spi\InvoiceItemResourceInterface" type="Magento\Sales\Model\Resource\Order\Invoice\Item"/>
    <preference for="Magento\Sales\Model\Spi\InvoiceResourceInterface" type="Magento\Sales\Model\Resource\Order\Invoice"/>
    <preference for="Magento\Sales\Model\Spi\OrderAddressResourceInterface" type="Magento\Sales\Model\Resource\Order\Address"/>
    <preference for="Magento\Sales\Model\Spi\OrderItemResourceInterface" type="Magento\Sales\Model\Resource\Order\Item"/>
    <preference for="Magento\Sales\Model\Spi\OrderPaymentResourceInterface" type="Magento\Sales\Model\Resource\Order\Payment"/>
    <preference for="Magento\Sales\Model\Spi\OrderResourceInterface" type="Magento\Sales\Model\Resource\Order"/>
    <preference for="Magento\Sales\Model\Spi\OrderStatusHistoryResourceInterface" type="Magento\Sales\Model\Resource\Order\Status\History"/>
    <preference for="Magento\Sales\Model\Spi\ShipmentCommentResourceInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Comment"/>
    <preference for="Magento\Sales\Model\Spi\ShipmentItemResourceInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Item"/>
    <preference for="Magento\Sales\Model\Spi\ShipmentResourceInterface" type="Magento\Sales\Model\Resource\Order\Shipment"/>
    <preference for="Magento\Sales\Model\Spi\ShipmentTrackResourceInterface" type="Magento\Sales\Model\Resource\Order\Shipment\Track"/>
    <preference for="Magento\Sales\Model\Spi\TransactionResourceInterface" type="Magento\Sales\Model\Resource\Order\Payment\Transaction"/>
    <type name="Magento\Sales\Model\Resource\Report" shared="false"/>
    <type name="Magento\Sales\Model\Order\Pdf\Config\Reader">
        <arguments>
            <argument name="fileName" xsi:type="string">pdf.xml</argument>
            <argument name="converter" xsi:type="object">Magento\Sales\Model\Order\Pdf\Config\Converter</argument>
            <argument name="schemaLocator" xsi:type="object">Magento\Sales\Model\Order\Pdf\Config\SchemaLocator</argument>
        </arguments>
    </type>
    <virtualType name="pdfConfigDataStorage" type="Magento\Framework\Config\Data">
        <arguments>
            <argument name="reader" xsi:type="object">Magento\Sales\Model\Order\Pdf\Config\Reader</argument>
            <argument name="cacheId" xsi:type="string">sales_pdf_config</argument>
        </arguments>
    </virtualType>
    <type name="Magento\Sales\Model\Order\Pdf\Config">
        <arguments>
            <argument name="dataStorage" xsi:type="object">pdfConfigDataStorage</argument>
        </arguments>
    </type>
    <type name="Magento\Catalog\Helper\Product\Flat\Indexer">
        <arguments>
            <argument name="flatAttributeGroups" xsi:type="array">
                <item name="quote_item" xsi:type="string">quote_item</item>
            </argument>
        </arguments>
    </type>
    <type name="Magento\Payment\Model\Checks\SpecificationFactory">
        <arguments>
            <argument name="mapping" xsi:type="array">
                <item name="country" xsi:type="object">Magento\Payment\Model\Checks\CanUseForCountry</item>
                <item name="currency" xsi:type="object">Magento\Payment\Model\Checks\CanUseForCurrency</item>
                <item name="checkout" xsi:type="object">Magento\Payment\Model\Checks\CanUseCheckout</item>
                <item name="internal" xsi:type="object">Magento\Payment\Model\Checks\CanUseInternal</item>
                <item name="total" xsi:type="object">Magento\Payment\Model\Checks\TotalMinMax</item>
                <item name="zero_total" xsi:type="object">Magento\Payment\Model\Checks\ZeroTotal</item>
            </argument>
        </arguments>
    </type>
    <type name="Magento\Framework\Model\ActionValidator\RemoveAction">
        <arguments>
            <argument name="protectedModels" xsi:type="array">
                <item name="salesOrder" xsi:type="string">Magento\Sales\Model\Order</item>
                <item name="salesOrderCreditmemo" xsi:type="string">Magento\Sales\Model\Order\Creditmemo</item>
                <item name="salesOrderInvoice" xsi:type="string">Magento\Sales\Model\Order\Invoice</item>
                <item name="salesOrderShipment" xsi:type="string">Magento\Sales\Model\Order\Shipment</item>
            </argument>
        </arguments>
    </type>
    <type name="Magento\Sales\Model\Config\Data">
        <arguments>
            <argument name="reader" xsi:type="object">Magento\Sales\Model\Config\Reader\Proxy</argument>
        </arguments>
    </type>
    <type name="Magento\Sales\Controller\OrderInterface">
        <plugin name="authentication" type="\Magento\Sales\Controller\Order\Plugin\Authentication"/>
    </type>
    <type name="Magento\Framework\App\Rss\RssManagerInterface">
        <arguments>
            <argument name="dataProviders" xsi:type="array">
                <item name="order_status" xsi:type="string">Magento\Sales\Model\Rss\OrderStatus</item>
            </argument>
        </arguments>
    </type>
    <virtualType name="Magento\Sales\Model\Observer\Order\IndexGrid" type="Magento\Sales\Model\Observer\IndexGrid">
        <arguments>
            <argument name="entityGrid" xsi:type="object">Magento\Sales\Model\Resource\Order\Grid</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Invoice\IndexGrid" type="Magento\Sales\Model\Observer\IndexGrid">
        <arguments>
            <argument name="entityGrid" xsi:type="object">Magento\Sales\Model\Resource\Order\Invoice\Grid</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Shipment\IndexGrid" type="Magento\Sales\Model\Observer\IndexGrid">
        <arguments>
            <argument name="entityGrid" xsi:type="object">Magento\Sales\Model\Resource\Order\Shipment\Grid</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Creditmemo\IndexGrid" type="Magento\Sales\Model\Observer\IndexGrid">
        <arguments>
            <argument name="entityGrid" xsi:type="object">Magento\Sales\Model\Resource\Order\Creditmemo\Grid</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\SendEmails" type="Magento\Sales\Model\Observer\SendEmails">
        <arguments>
            <argument name="emailSender" xsi:type="object">Magento\Sales\Model\Order\Email\Sender\OrderSender</argument>
            <argument name="entityResource" xsi:type="object">Magento\Sales\Model\Resource\Order</argument>
            <argument name="entityCollection" xsi:type="object" shared="false">Magento\Sales\Model\Resource\Order\Collection</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Invoice\SendEmails" type="Magento\Sales\Model\Observer\SendEmails">
        <arguments>
            <argument name="emailSender" xsi:type="object">Magento\Sales\Model\Order\Email\Sender\InvoiceSender</argument>
            <argument name="entityResource" xsi:type="object">Magento\Sales\Model\Resource\Order\Invoice</argument>
            <argument name="entityCollection" xsi:type="object" shared="false">Magento\Sales\Model\Resource\Order\Invoice\Collection</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Shipment\SendEmails" type="Magento\Sales\Model\Observer\SendEmails">
        <arguments>
            <argument name="emailSender" xsi:type="object">Magento\Sales\Model\Order\Email\Sender\ShipmentSender</argument>
            <argument name="entityResource" xsi:type="object">Magento\Sales\Model\Resource\Order\Shipment</argument>
            <argument name="entityCollection" xsi:type="object" shared="false">Magento\Sales\Model\Resource\Order\Shipment\Collection</argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\Observer\Order\Creditmemo\SendEmails" type="Magento\Sales\Model\Observer\SendEmails">
        <arguments>
            <argument name="emailSender" xsi:type="object">Magento\Sales\Model\Order\Email\Sender\CreditmemoSender</argument>
            <argument name="entityResource" xsi:type="object">Magento\Sales\Model\Resource\Order\Creditmemo</argument>
            <argument name="entityCollection" xsi:type="object" shared="false">Magento\Sales\Model\Resource\Order\Creditmemo\Collection</argument>
        </arguments>
    </virtualType>
    <type name="Magento\SalesSequence\Model\EntityPool">
        <arguments>
            <argument name="entities" xsi:type="array">
                <item name="order" xsi:type="string">order</item>
                <item name="invoice" xsi:type="string">invoice</item>
                <item name="creditmemo" xsi:type="string">creditmemo</item>
                <item name="shipment" xsi:type="string">shipment</item>
            </argument>
        </arguments>
    </type>
    <type name="Magento\SalesSequence\Model\Resource\Meta">
        <arguments>
            <argument name="resourcePrefix" xsi:type="string">sales</argument>
        </arguments>
    </type>
    <type name="Magento\SalesSequence\Model\Resource\Profile">
        <arguments>
            <argument name="resourcePrefix" xsi:type="string">sales</argument>
        </arguments>
    </type>
    <type name="Magento\Sales\Model\Resource\Report\Order\Createdat">
        <arguments>
            <argument name="resourcePrefix" xsi:type="string">sales</argument>
        </arguments>
    </type>
    <type name="Magento\Sales\Model\Resource\Report\Bestsellers">
        <arguments>
            <argument name="resourcePrefix" xsi:type="string">sales</argument>
        </arguments>
    </type>
    <type name="Magento\Sales\Model\Resource\Order\Status">
        <arguments>
            <argument name="resourcePrefix" xsi:type="string">sales</argument>
        </arguments>
    </type>
    <virtualType name="OrderRelationsComposite" type="Magento\Sales\Model\Resource\EntityRelationComposite">
        <arguments>
            <argument name="relationProcessors" xsi:type="array">
                <item name="default" xsi:type="object">Magento\Sales\Model\Resource\Order\Relation</item>
            </argument>
        </arguments>
    </virtualType>
    <type name="Magento\Sales\Model\Resource\Order">
        <arguments>
            <argument name="entityRelationComposite" xsi:type="object">OrderRelationsComposite</argument>
        </arguments>
    </type>
    <virtualType name="InvoiceRelationsComposite" type="Magento\Sales\Model\Resource\EntityRelationComposite">
        <arguments>
            <argument name="relationProcessors" xsi:type="array">
                <item name="default" xsi:type="object">Magento\Sales\Model\Resource\Order\Invoice\Relation</item>
            </argument>
        </arguments>
    </virtualType>
    <type name="Magento\Sales\Model\Resource\Order\Invoice">
        <arguments>
            <argument name="entityRelationComposite" xsi:type="object">InvoiceRelationsComposite</argument>
        </arguments>
    </type>
    <virtualType name="ShipmentRelationsComposite" type="Magento\Sales\Model\Resource\EntityRelationComposite">
        <arguments>
            <argument name="relationProcessors" xsi:type="array">
                <item name="default" xsi:type="object">Magento\Sales\Model\Resource\Order\Shipment\Relation</item>
            </argument>
        </arguments>
    </virtualType>
    <type name="Magento\Sales\Model\Resource\Order\Shipment">
        <arguments>
            <argument name="entityRelationComposite" xsi:type="object">ShipmentRelationsComposite</argument>
        </arguments>
    </type>
    <virtualType name="CreditmemoRelationsComposite" type="Magento\Sales\Model\Resource\EntityRelationComposite">
        <arguments>
            <argument name="relationProcessors" xsi:type="array">
                <item name="default" xsi:type="object">Magento\Sales\Model\Resource\Order\Creditmemo\Relation</item>
            </argument>
        </arguments>
    </virtualType>
    <type name="Magento\Sales\Model\Resource\Order\Creditmemo">
        <arguments>
            <argument name="entityRelationComposite" xsi:type="object">CreditmemoRelationsComposite</argument>
        </arguments>
    </type>
</config>
