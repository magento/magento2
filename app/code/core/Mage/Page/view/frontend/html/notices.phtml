<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2012 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * @var $this Mage_Page_Block_Html_Notices
 */
?>
<?php if ($this->displayNoscriptNotice()): ?>
    <noscript>
        <div class="global-site-notice noscript">
            <div class="notice-inner">
                <p>
                    <strong><?php echo $this->__('JavaScript seems to be disabled in your browser.'); ?></strong><br />
                    <?php echo $this->__('You must have JavaScript enabled in your browser to utilize the functionality of this website.'); ?>
                </p>
            </div>
        </div>
    </noscript>
<?php endif; ?>
<?php if ($this->displayDemoNotice()): ?>
    <div class="global-site-notice demo-notice">
        <div class="notice-inner"><p><?php echo $this->__('This is a demo store. Any orders placed through this store will not be honored or fulfilled.') ?></p></div>
    </div>
<?php endif; ?>
<?php if (Mage::helper('Mage_Core_Helper_Cookie')->isUserNotAllowSaveCookie()): ?>
    <div class="global-site-notice notice-cookie" id="notice-cookie-block" style="display: none">
        <div class="notice-inner">
            <p><?php echo $this->__('This website requires cookies to provide all of its features. For more information on what data is contained in the cookies, please see our <a href="%s">Privacy Policy page</a>. To accept cookies from this site, please click the Allow button below.', $this->getPrivacyPolicyLink()) ?></p>
            <div class="actions"><button class="button"><span><span><?php echo $this->__('Allow');?></span></span></button></div>
        </div>
    </div>
    <script type="text/javascript">
        // <![CDATA[
        (function($) {
            $.mage.event.observe('mage.nocookies.initialize', function(e, o) {
                o.cookieBlockSelector = '#notice-cookie-block';
                o.cookieAllowButtonSelector = '#notice-cookie-block > .notice-inner > .actions > .button';
                o.cookieName = '<?php echo Mage_Core_Helper_Cookie::IS_USER_ALLOWED_SAVE_COOKIE ?>';
                o.cookieValue = '<?php echo Mage::helper('Mage_Core_Helper_Cookie')->getAcceptedSaveCookiesWebsiteIds() ?>';
                o.cookieExpires = new Date(new Date().getTime() + <?php echo Mage::helper('Mage_Core_Helper_Cookie')->getCookieRestrictionLifetime() ?> * 1000);
                o.noCookiesUrl = '<?php echo Mage::getUrl('cms/index/noCookies') ?>';
            });
            $.mage.load.jsSync(
                "<?php echo $this->getViewFileUrl('jquery/jquery.cookie.js')?>",
                "<?php echo $this->getViewFileUrl('Mage_Page::js/cookies.js')?>",
                "<?php echo $this->getViewFileUrl('Mage_Page::js/notices.js')?>"
            );
        })(jQuery);
        // ]]>
    </script>
<?php endif; ?>
